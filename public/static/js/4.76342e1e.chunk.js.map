{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","shared/utils/validators.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","shared/components/UIElements/Input/Input.js","shared/components/UIElements/Input/Input.module.scss","shared/hooks/FormHook.js","places/pages/PlaceForm.module.scss","shared/components/UIElements/Input/ImageUpload.js","shared/components/UIElements/Input/ImageUpload.module.scss","places/pages/NewPlace.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_defineProperty","obj","value","configurable","writable","VALIDATOR_REQUIRE","type","VALIDATOR_MINLENGTH","val","VALIDATOR_EMAIL","validate","validators","isValid","o","Symbol","iterator","Array","isArray","unsupportedIterableToArray","F","s","n","done","e","_e","f","TypeError","it","err","normalCompletion","didErr","step","next","_e2","validator","trim","test","inputReducer","state","action","isTouched","Input","props","useReducer","initialValue","initialValid","inputState","dispatch","id","onInput","useEffect","changeHandler","touchHandler","input","Fragment","placeholder","required","onChange","onBlur","className","styles","bar","textArea","rows","FormControl","invertedColors","Inverted","Valid","Invalid","element","htmlFor","label","errorText","module","exports","formReducer","formIsValid","inputId","inputs","useForm","initialInputs","initialValidity","formState","useCallback","inputData","formValidity","ImageUpload","filePickerRef","useRef","useState","file","setFile","previewUrl","setPreviewUrl","setIsValid","fileReader","FileReader","onload","result","readAsDataURL","pickedFile","fileIsValid","files","ref","accept","alt","width","square","image","onClick","current","click","borderless","inverse","buttonInverse","NewPlace","auth","useContext","AuthContext","useHttpClient","isLoading","error","sendRequest","clearError","title","address","description","inputHandler","history","useHistory","header","show","close","container","sticker","heading","desc","PlaceForm","onSubmit","preventDefault","formData","FormData","append","Authorization","token","then","spinner","size","lightColor","formContent","disabled"],"mappings":"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","file":"static/js/4.76342e1e.chunk.js","sourcesContent":["import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\r\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\r\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\r\nconst VALIDATOR_TYPE_MIN = 'MIN';\r\nconst VALIDATOR_TYPE_MAX = 'MAX';\r\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\r\nconst VALIDATOR_TYPE_FILE = 'FILE';\r\n\r\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\r\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\r\nexport const VALIDATOR_MINLENGTH = val => ({\r\n    type: VALIDATOR_TYPE_MINLENGTH,\r\n    val: val\r\n});\r\nexport const VALIDATOR_MAXLENGTH = val => ({\r\n    type: VALIDATOR_TYPE_MAXLENGTH,\r\n    val: val\r\n});\r\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\r\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\r\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\r\n\r\nexport const validate = (value, validators) => {\r\n    let isValid = true;\r\n    for (const validator of validators) {\r\n        if (validator.type === VALIDATOR_TYPE_REQUIRE) {\r\n            isValid = isValid && value.trim().length > 0;\r\n        }\r\n        if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\r\n            isValid = isValid && value.trim().length >= validator.val;\r\n        }\r\n        if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\r\n            isValid = isValid && value.trim().length <= validator.val;\r\n        }\r\n        if (validator.type === VALIDATOR_TYPE_MIN) {\r\n            isValid = isValid && +value >= validator.val;\r\n        }\r\n        if (validator.type === VALIDATOR_TYPE_MAX) {\r\n            isValid = isValid && +value <= validator.val;\r\n        }\r\n        if (validator.type === VALIDATOR_TYPE_EMAIL) {\r\n            isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\r\n        }\r\n    }\r\n    return isValid;\r\n};","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import React, {useReducer, useEffect} from 'react';\r\n\r\nimport styles from './Input.module.scss';\r\nimport {validate} from \"../../../utils/validators\";\r\n\r\nconst inputReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'CHANGE':\r\n            return {\r\n                ...state,\r\n                value: action.val,\r\n                isValid: validate(action.val, action.validators)\r\n            };\r\n        case 'TOUCH':\r\n            return {\r\n                ...state,\r\n                isTouched: true\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nconst Input = props => {\r\n    const [inputState, dispatch] = useReducer(inputReducer, {\r\n        value: props.initialValue || '',\r\n        isValid: props.initialValid || false,\r\n        isTouched: false\r\n    });\r\n\r\n    const {id, onInput} = props;\r\n    const {value, isValid} = inputState;\r\n    useEffect(() => {\r\n        onInput(id, value, isValid)\r\n    }, [id, value, isValid, onInput])\r\n\r\n    const changeHandler = e => {\r\n        dispatch({type: 'CHANGE', val: e.target.value, validators: props.validators})\r\n    };\r\n    const touchHandler = () => {\r\n        dispatch({type: 'TOUCH'})\r\n    };\r\n\r\n    const input = <React.Fragment>\r\n        <input id={props.id} type={props.type} placeholder={props.placeholder}\r\n               required onChange={changeHandler} value={inputState.value}\r\n               onBlur={touchHandler}/>\r\n        <span className={styles.bar}></span>\r\n    </React.Fragment>;\r\n    const textArea = <textarea id={props.id} rows={props.rows || 3}\r\n                               required onChange={changeHandler}\r\n                               value={inputState.value} onBlur={touchHandler}/>;\r\n\r\n    return <div className={`${styles.FormControl} ${props.invertedColors ? styles.Inverted : ''} ${inputState.isTouched ?\r\n        inputState.isValid ? styles.Valid : styles.Invalid : ''}`}>\r\n        {props.element === 'textarea' ? textArea : input}\r\n        <label htmlFor={props.id}>{props.label}</label>\r\n        {!inputState.isValid && inputState.isTouched && <p className={styles.errorText}>{props.errorText}</p>}\r\n    </div>\r\n};\r\n\r\nexport default Input;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FormControl\":\"Input_FormControl__3Dlx1\",\"bar\":\"Input_bar__3HdQJ\",\"errorText\":\"Input_errorText__17C5H\",\"Inverted\":\"Input_Inverted__3WUjH\",\"Valid\":\"Input_Valid__1kgL0\",\"Invalid\":\"Input_Invalid__2sHoH\"};","import {useCallback, useReducer} from 'react';\r\n\r\nconst formReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'INPUT_CHANGE':\r\n            let formIsValid = true;\r\n            for (const inputId in state.inputs) {\r\n                if (!state.inputs[inputId]) {\r\n                    continue;\r\n                }\r\n                if (inputId === action.inputId) {\r\n                    formIsValid = formIsValid && action.isValid\r\n                } else {\r\n                    formIsValid = formIsValid && state.inputs[inputId].isValid\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                inputs: {\r\n                    ...state.inputs,\r\n                    [action.inputId]: {\r\n                        value: action.value, isValid: action.isValid\r\n                    }\r\n                },\r\n                isValid: formIsValid\r\n            }\r\n        case 'SET_DATA':\r\n            return {\r\n                inputs: action.inputs,\r\n                isValid: action.formIsValid\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport const useForm = (initialInputs, initialValidity) => {\r\n    const [formState, dispatch] = useReducer(formReducer, {\r\n        inputs: initialInputs,\r\n        isValid: initialValidity\r\n    });\r\n\r\n    const inputHandler = useCallback((id, value, isValid) => {\r\n        dispatch({type: 'INPUT_CHANGE', inputId: id, value, isValid})\r\n    }, []);\r\n\r\n    const setFormData = useCallback((inputData, formValidity) => {\r\n        dispatch({\r\n            type: 'SET_DATA',\r\n            inputs: inputData,\r\n            formIsValid: formValidity\r\n        })\r\n    }, [])\r\n\r\n    return [formState, inputHandler, setFormData]\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PlaceForm_container__2OWgO\",\"sticker\":\"PlaceForm_sticker__32CQS\",\"heading\":\"PlaceForm_heading__yshwY\",\"desc\":\"PlaceForm_desc__23-U9\",\"PlaceForm\":\"PlaceForm_PlaceForm__2VOsN\",\"spinner\":\"PlaceForm_spinner__1s6GC\",\"formContent\":\"PlaceForm_formContent__3iDOq\"};","import React, {useEffect, useRef, useState} from 'react';\r\n\r\nimport styles from './ImageUpload.module.scss';\r\nimport Button from \"../Button/Button\";\r\nimport Avatar from \"../Cards/Avatar/Avatar\";\r\n\r\nconst ImageUpload = props => {\r\n    const filePickerRef = useRef();\r\n    const [file, setFile] = useState();\r\n    const [previewUrl, setPreviewUrl] = useState();\r\n    const [isValid, setIsValid] = useState(false);\r\n\r\n    const pickImageHandler = () => {\r\n        filePickerRef.current.click();\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (file) {\r\n            const fileReader = new FileReader();\r\n            fileReader.onload = () => {\r\n                setPreviewUrl(fileReader.result);\r\n            };\r\n            fileReader.readAsDataURL(file)\r\n        }\r\n    }, [file])\r\n\r\n    const pickedFileHandler = e => {\r\n        let pickedFile;\r\n        let fileIsValid = isValid;\r\n        if (e.target.files && e.target.files.length === 1) {\r\n            pickedFile = e.target.files[0]\r\n            setFile(pickedFile);\r\n            setIsValid(true);\r\n            fileIsValid = true;\r\n        } else {\r\n            setIsValid(false);\r\n            fileIsValid = false;\r\n        }\r\n        props.onInput(props.id, pickedFile, fileIsValid);\r\n    }\r\n\r\n    return (\r\n        <div className={styles.FormControl}>\r\n            <input id={props.id} onChange={pickedFileHandler} ref={filePickerRef} type=\"file\" accept=\".jpg,.png,.jpeg\"/>\r\n            <Avatar alt=\"Preview\" width=\"100%\" square={!!props.square}\r\n                    image={previewUrl || \"https://cdn.pixabay.com/photo/2018/04/18/18/56/user-3331257__340.png\"}/>\r\n            <Button type=\"button\" onClick={pickImageHandler} borderless inverse={!!props.buttonInverse}>Pick image</Button>\r\n            {!isValid && <p>{props.errorText}</p>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImageUpload","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FormControl\":\"ImageUpload_FormControl__5UWII\"};","import React, {useContext} from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nimport styles from './PlaceForm.module.scss';\r\nimport Input from \"../../shared/components/UIElements/Input/Input\";\r\nimport {VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE} from \"../../shared/utils/validators\";\r\nimport ButtonPanel from \"../../shared/components/UIElements/Button/ButtonPanel\";\r\nimport Button from \"../../shared/components/UIElements/Button/Button\";\r\nimport {useForm} from \"../../shared/hooks/FormHook\";\r\nimport {useHttpClient} from \"../../shared/hooks/HttpHook\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\nimport Spinner from \"../../shared/components/UIElements/Spinner/Spinner\";\r\nimport Modal from \"../../shared/components/UIElements/Modals/Modal\";\r\nimport ImageUpload from \"../../shared/components/UIElements/Input/ImageUpload\";\r\n\r\nconst NewPlace = () => {\r\n    const auth = useContext(AuthContext);\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n\r\n    const [formState, inputHandler] = useForm({\r\n        title: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        address: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        description: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        image: {\r\n            value: null,\r\n            isValid: false\r\n        }\r\n    }, false)\r\n\r\n    const history = useHistory();\r\n\r\n    const placeSubmitHandler = e => {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.append('title', formState.inputs.title.value);\r\n        formData.append('address', formState.inputs.address.value);\r\n        formData.append('description', formState.inputs.description.value);\r\n        formData.append('image', formState.inputs.image.value);\r\n\r\n        sendRequest('api/places', 'POST', formData, {Authorization: 'Bearer ' + auth.token}).then(() => {history.push('/')})\r\n    };\r\n\r\n    return (<React.Fragment>\r\n            <Modal\r\n                header=\"Creating place error\"\r\n                show={!!error}\r\n                close={clearError}>\r\n                <p>{error}</p>\r\n            </Modal>\r\n            <div className={styles.container}>\r\n                <div className={styles.sticker}>\r\n                    <h2 className={styles.heading}>New Place</h2>\r\n                    <p className={styles.desc}>Create a new place you've been visited, don't forget to add location,\r\n                        some interesting story and breathtaking pictures.</p>\r\n                </div>\r\n                <form className={styles.PlaceForm} onSubmit={placeSubmitHandler}>\r\n                    <div className={styles.spinner}>{isLoading && <Spinner size=\"small\" lightColor />}</div>\r\n                    <div className={styles.formContent}>\r\n                        <ImageUpload id=\"image\" buttonInverse square onInput={inputHandler} errorText=\"Choose profile image (jpg/png)\"/>\r\n                        <Input id='title' element='input' type='text' label='Title'\r\n                               errorText='Enter a valid name' validators={[VALIDATOR_REQUIRE()]}\r\n                               onInput={inputHandler}/>\r\n                        <Input id='address' element='input' type='text' label='Address'\r\n                               errorText='Enter a valid address' validators={[VALIDATOR_REQUIRE()]}\r\n                               onInput={inputHandler}/>\r\n                        <Input id='description' element='textarea' type='text' label='Description'\r\n                               errorText='Enter some description (>5 characters)' validators={[VALIDATOR_MINLENGTH(5)]}\r\n                               onInput={inputHandler}/>\r\n                    </div>\r\n                    <ButtonPanel>\r\n                        <Button size='big' type='submit' inverse disabled={!formState.isValid}>Add place</Button>\r\n                    </ButtonPanel>\r\n                </form>\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default NewPlace;"],"sourceRoot":""}